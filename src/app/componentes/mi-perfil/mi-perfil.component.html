<div class="container mt-5" *ngIf="usuario; else cargando">
  <h2 class="mb-4 text-center text-primary">Mi Perfil</h2>

  <div class="card p-3 shadow" [appResaltarRol]="usuario.rol">
    <div class="text-center mb-3">
      <img 
        [src]="usuario.fotoURL || 'https://via.placeholder.com/150'" 
        alt="Foto de perfil"
        class="rounded-circle" 
        width="150" height="150"
      >
    </div>

    <p><strong>Nombre:</strong> {{ usuario.nombre }} {{ usuario.apellido }}</p>
    <p><strong>Email:</strong> {{ usuario.email }}</p>
    <p><strong>Edad:</strong> {{ usuario.edad }}</p>
    <p><strong>Rol:</strong> {{ usuario.rol | rolicono }}</p>

    <!-- Mostrar segunda foto si existe (paciente) -->
    <div *ngIf="usuario.fotoURL1" class="mt-3 text-center">
      <p class="mb-1"><strong>Segunda foto:</strong></p>
      <img [src]="usuario.fotoURL1" alt="Foto secundaria" class="img-fluid rounded" width="200">
    </div>

    <div class="text-center mt-3" *ngIf="usuario.rol === 'especialista'">
        <button class="btn btn-outline-primary" (click)="irAMisHorarios()">
            Mis horarios
        </button>
    </div>

  </div>
</div>

<ng-template #cargando>
  <div class="text-center mt-5">
    <div class="spinner-border text-primary" role="status"></div>
    <p class="mt-2">Cargando perfil...</p>
  </div>
</ng-template>

